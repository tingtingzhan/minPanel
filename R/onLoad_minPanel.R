

# @importFrom parallel detectCores
#' @importFrom ggplot2 %+replace% theme_minimal theme theme_set
#' @importFrom grid unit
.onLoad <- function(libname, pkgname) {
  
  Sys.setenv(
    
    '_R_CHECK_LIMIT_CORES_' = 'false',
    # otherwise ?parallel:::.check_ncores causes error when ?devtools::check
    
    '_R_CHECK_SYSTEM_CLOCK_' = 0
    # https://stackoverflow.com/questions/63613301/r-cmd-check-note-unable-to-verify-current-time
    # to disable "checking for future file timestamps" in R Check
    
  ) 
  
  options(
    
    bitmapType = 'cairo' # unicode support # MUST as of macOS, R 4.5.1
    
  )  
  
  theme_minimal() %+replace%
    theme(legend.key.spacing.y = unit(.03, "npc")) |> 
    theme_set()
  
}

